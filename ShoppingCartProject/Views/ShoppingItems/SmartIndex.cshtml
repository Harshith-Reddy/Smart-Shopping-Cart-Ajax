
@{
    ViewBag.Title = "SmartIndex";
}
<style>
    body {
        background-image: url('../../Content/359.jpg');
    }    
</style>

<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
        <li data-target="#carousel-example-generic" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="~/Content/1.png" alt="">
            <div class="carousel-caption">
                
            </div>
        </div>
        <div class="item">
            <img src="~/Content/3.png" alt="">
            <div class="carousel-caption">
                
            </div>
        </div>
        
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div class="container">
<div class="row">
    <div class="col-xs-12">
        <div class="row" id="mainSubmitAdd">
           <input type="submit" class="btn btn-success btn-sm" style="background-color:crimson" value="Create Shopping Item" id="createNew" />
        </div>

        <div class="row" id="addDiv" style="display:none">
            @*<span class="pull-right">^</span>*@
            <div class="form-group">
                
                <label class="control-label col-md-2" for="ItemName">ItemName</label>
                <div class="col-md-10">
                    <input class="form-control text-box single-line" id="ItemNameAdd" name="ItemName" type="text" value="" required/>
                    <span class="field-validation-valid text-danger" data-valmsg-for="ItemName" data-valmsg-replace="true"></span>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-2" for="Price">Price</label>
                <div class="col-md-10">
                    <input class="form-control text-box single-line" data-val="true" data-val-number="The field Price must be a number." data-val-required="The Price field is required." id="PriceAdd" name="Price" type="text" value="" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="Price" data-valmsg-replace="true"></span>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-2" for="Description">Description</label>
                <div class="col-md-10">
                    <input class="form-control text-box single-line" id="DescriptionAdd" name="Description" type="text" value="" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="Description" data-valmsg-replace="true"></span>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-md-2" for="CategoryId">CategoryId</label>
                <div class="col-md-10">
                    <select class="form-control" id="CategoryIdAdd" name="CategoryId">
                        
                    </select>
                    <span class="field-validation-valid text-danger" data-valmsg-for="CategoryId" data-valmsg-replace="true"></span>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    
                    @*<input type="submit" value="Create" class="btn btn-default" />*@
                    <button class="btn btn-default btn-sm" style="background-color:gray;color:white;" value="Create ToDO Item" id="addNewSI">Create Shopping Item</button>
                    <button class="btn btn-default btn-sm" style="background-color:orangered;color:white;" value="Close" id="closeDivAdd">Close</button>
                </div>
                
            </div>

            
            
        </div>
        
        <div class="alert alert-danger" id="alertDiv" style="display:none">
            <strong>Error!</strong> Please Enter Valid inputs.
        </div>
        <div class="alert alert-danger" id="alertDivPrice" style="display:none">
            <strong>Error!</strong> Price must be a Numerical Value.
        </div>
            <div class="row">

                <ul id="listItems" style="padding-left:0px;">
                    @*<li class="list-group-item ">
                        <span class="pull-right" style="padding-left: 5px;">
                            <button class="btn btn-danger btn-xs btn-delete0">Delete</button>
                        </span>

                        <span class="pull-right" style="padding-left: 5px;">
                            <button class="btn btn-success btn-xs btn-editb">Edit</button>
                        </span>

                        <span class="pull-right">
                            <button class="btn btn-success btn-xs btn-complete">Add to Cart  </button>
                        </span>
                        <span class="pull-left">
                            <img src="" />
                        </span>
                        <strong class="pull-left">Vegetables</strong>
                        <br>

                        <p class="text-muted">Category-Description</p>
                            <div class="form-group" id="edit-Div" style="display:block">
                                <label class="control-label col-md-4">
                                    Item Name:
                                </label>
                                <input type="text" id="ItemNameEdit" value="s" class="form-control" />
                                <br />

                                <label class="control-label col-md-4">
                                    Price:
                                </label>
                                <input type="text" id="PriceEdit" value="" class="form-control" />
                                <br />

                                <label class="control-label col-md-4">
                                    Description:
                                </label>
                                <input type="text" id="DescEdit" value="" class="form-control" />
                                <br />

                                <label class="control-label col-md-4">
                                    Category
                                </label>
                                <select class="form-control" id="SIeditCat">

                                </select>
                                <br />

                                &nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-primary btn-edit" id="EditForm">Edit</button>
                            </div>
                    </li>


                    <li class="list-group-item">
                        <span class="pull-right" style="padding-left: 5px;">
                            <button class="btn btn-danger btn-xs btn-delete0">Delete</button>
                        </span>

                        <span class="pull-right" style="padding-left: 5px;">
                            <button class="btn btn-success btn-xs btn-editb">Edit</button>
                        </span>

                        <span class="pull-right" style="padding-left: 5px;">
                            <button class="btn btn-success btn-xs btn-complete">Update Cart</button>
                        </span>
                        <span class="pull-right" style="display:none; padding-left: 5px;">
                            <button class="" id="addOne##">+</button>
                            <span id="counter##">7</span>
                            <button class="" id="=subtractOne##">-</button>
                        </span>
                        <strong class="pull-left">Buy Vegetables</strong>
                        <span class="label label-danger">Added to Cart</span>
                        <p class="text-muted">Category- Decription</p>
                    </li>*@
                </ul>
            </div>
        @*<span class="fa-stack fa-3x">
            <i class="fa fa-shopping-cart fa-stack-2x" style="font-size:55px;padding-top:20px;padding-right:10px;"></i>
            <strong class="fa-stack-1x calendar-text" style="font-size:20px;color:white; ">299</strong>
        </span>*@
        @*<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal1">Button1</button>*@
        <div id="myModal1" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    @*<div class="modal-header" >....</div>
                    <div class="modal-body">...</div>
                    <div class="modal-footer">...</div>*@
                    <ul id="nadi" style="padding-left:0px;">
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading">Second List Group Item Heading</h4>
                            <p class="list-group-item-text">List Group Item Text</p>
                            <button class="btn btn-success btn-xs btn-complete" id="12345">Write Review</button>
                            <div class="form-group" id="review-Div" style="display:none">
                                <label class="control-label col-md-4">
                                    Item Name:
                                </label>
                                <input type="text" readonly="readonly" id="ItemNameReview" value="s" class="form-control" />
                                <br />

                                <label class="control-label col-md-4">
                                    Subject Line:
                                </label>
                                <input type="text" id="subjectReview" value="" class="form-control" />
                                <br />

                                <label class="control-label col-md-4">
                                    Description:
                                </label>
                                <input type="text" id="descriptionReview" value="" class="form-control" />
                                <br />
                                &nbsp;&nbsp;&nbsp;&nbsp;<button class="btn btn-primary btn-Addreview" id="addReview">Add</button>
                            </div>
                        </a>
                    </ul>
                </div>
            </div>
        </div>

        </div>
    </div>
</div>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script>
    var refCatObj = null;
    var editDropdown = '';

    $(document).ready(function () {

        //Fetching the Categories
        $.ajax({
            url: "/ShoppingItems/getCategories/",
            dataType: 'json',
            contentType: 'application/json',

            data: {

            },
            method: 'GET'
        }).then(function (responseJSON, status, xhr) {

            for (var i = 0; i < responseJSON.length; i++) {
                var newRow = '<option value="' + responseJSON[i].Id + '">' + responseJSON[i].Name + '</option>';
                editDropdown += newRow;
                var addedRow = $(newRow);
                $('#CategoryIdAdd').append(addedRow);
                //TODO $('#TDcatAdd').append(optionq);
            }
        });

        //Fetching Shopping Cart Items
        $.ajax({
            url: "/ShoppingItems/getShoppingItemsList/",
            dataType: 'json',
            contentType: 'application/json',

            data: {

            },
            method: 'GET'
        }).then(function (responseJSON, status, xhr) {

            for (var i = 0; i < responseJSON.length; i++) {
                NewRow(responseJSON[i], "");
            }
        });
        //AddtoCart Click
        $(document).on('click', '.btn-addCart', function () {
            var rowId = $(this).attr('elem_id');
            $(this).css("display", "none");
            //TODOGHR add animations by deleting edit and delete options
            $('#counterSpan' + rowId).css("display", "block");

            $('#addNew' + rowId).css("display", "block");
            $('#addNew' + rowId).css("font-size", "20px");

        });
        //UpdateCart Click
        $(document).on('click', '.btn-updateCart', function () {
            var rowId = $(this).attr('elem_id');
            $(this).css("display", "none");
            $('#counterSpan' + rowId).css("display", "block");
            $('#updateCartNew' + rowId).css("display", "block");
            $('#updateCartNew' + rowId).css("font-size", "20px");

        });
        //Counter + click
        $(document).on('click', '.increment', function () {
            var rowId = $(this).attr('id');
            //alert(rowId.substring(6, rowId.length));
            var updateCounter = parseInt($("#counter" + rowId.substring(6, rowId.length)).text()) + 1;
            $("#counter" + rowId.substring(6, rowId.length)).text(updateCounter);

        });
        //Counter - Click
        $(document).on('click', '.decrement', function () {
            var rowId = $(this).attr('id');
            //alert(rowId.substring(12, rowId.length));
            var updateCounter = parseInt($("#counter" + rowId.substring(12, rowId.length)).text()) - 1;
            if (updateCounter >= 0)
                $("#counter" + rowId.substring(12, rowId.length)).text(updateCounter);
            else
                alert("Cart Quantity must be greater than 0");

        });

        //Delete
        $(document).on('click', '.btn-delete', function () {
            if (confirm("Are you sure you want to delete the Shopping Item ?")) {
                var rowId = $(this).attr('elem_id');
                $.ajax({
                    url: "/ShoppingItems/Delete/",
                    //dataType: 'json',
                    //contentType: 'application/json',                    
                    data: {
                        id: parseInt(rowId)
                        //json: JSON.stringify({ name: 'Jane', age: 30 }),
                        //delay: 1
                    },
                    method: 'POST'
                }).done(function (responseJSON, status, xhr) {

                    var row = $("#si_" + rowId).remove();

                }).error(function (xhr, status, error) {
                    // deal with error from server
                    $("#error").show();
                });


            }
        });

        //Add to Cart
        $(document).on('click', '.btn-addCartNew', function () {
            var rowId = $(this).attr('elem_id');
            var num = parseInt($("#counter" + rowId).text());
            $.ajax({
                url: "/ShoppingItems/AddToCart/",                
                data: {
                    id: parseInt(rowId),
                    n: parseInt(num)
                },
                method: 'POST'
            }).done(function (responseJSON, status, xhr) {               
                var response = JSON.parse(responseJSON);
                UpdateRow(response[0]);
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });

        });

        //Update cart
        $(document).on('click', '.btn-updateCartNew', function () {

            var rowId = $(this).attr('elem_id');
            var num = parseInt($("#counter" + rowId).text());

            $.ajax({
                url: "/ShoppingItems/AddToCart/",
                data: {
                    id: parseInt(rowId),
                    n: parseInt(num)
                },
                method: 'POST'
            }).done(function (responseJSON, status, xhr) {
                var response = JSON.parse(responseJSON);
                UpdateRow(response[0]);
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });
        });

        //Add Click
        $(document).on('click', '#createNew', function () {
            $('#alertDiv').css("display", "none");
            $('#alertDivPrice').css("display", "none");
            $('#addDiv').slideToggle();
            //$('#createNew').css("display", "none");
            $('#ItemNameAdd').val(null);
            $('#PriceAdd').val(null);
            $('#DescriptionAdd').val(null);
        });

        //Add Click
        $(document).on('click', '#12345', function () {
            $('#review-Div').slideToggle();
            //$('#createNew').css("display", "none");
        });

        function validateNulls(item) {
            if (!item) {
                //alert("Oops");
                $('#alertDiv').slideToggle();
                //e.preventDefault();
               // e.stop
                return false;
            }
            return true;
        }
        function validateNumeric(item) {
            if (!$.isNumeric(item)) {
                //alert("Oops");
                $('#alertDivPrice').slideToggle();
                //e.preventDefault();
                // e.stop
                return false;
            }
            return true;
        }
        //Add actual
        $(document.body).on('click', '#addNewSI', function () {
            $('#alertDiv').css("display", "none");
            $('#alertDivPrice').css("display", "none");
            //debugger;
            //event.preventDefault();
            var itemName = $('#ItemNameAdd').val();
            if (!validateNulls(itemName)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            
            var price = $('#PriceAdd').val();
            if (!validateNulls(price)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            if (!validateNumeric(price)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            var desc = $('#DescriptionAdd').val(); 
            if (!validateNulls(desc)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            var cat = $('#CategoryIdAdd').val();
            var catname = $('#CategoryIdAdd option:selected').text();

            var itemjsonObj = {
                "ItemName": itemName,
                "Price": price,
                "Description": desc,
                "CategoryId": cat
            };

            //toDo.server.create(itemjsonObj, catname);
            //$('#discussion').append('<li><strong>' + task
            //    + '</strong>has been Created New</li>');
            //$('#addForm').css("display", "none");
            //$('#TDtaskAdd').val(null);
            //$('#TDboolAdd').attr('checked', false);
            //$('#submit').css("display", "block");
            $.ajax({
                url: "/ShoppingItems/Create/",
                data: itemjsonObj,
                method: 'POST'
            }).done(function (responseJSON, status, xhr) {
                
                var response = JSON.parse(responseJSON);
                //alert(responseJSON);
                //debugger;
                NewRow(response, catname);
                
                $('#addDiv').css("display", "none");
                $('#ItemNameAdd').val(null);
                $('#PriceAdd').val(null);
                $('#DescriptionAdd').val(null);                
                $('#createNew').css("display", "block");
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });
        });

        $(document).on('click', '#closeDivAdd', function () {
            $('#alertDiv').css("display", "none");
            $('#alertDivPrice').css("display", "none");
            $('#addDiv').slideToggle();
            //$('#createNew').css("display", "block");

            $('#ItemNameAdd').val(null);
            $('#PriceAdd').val(null);
            $('#DescriptionAdd').val(null);
            
        });

        //Edit Click
        $(document).on('click', '.btn-editb', function () {
            //alert($(this).attr('elem_id'));
            var editDivId = $(this).attr('elem_id');
            $('#edit-Div' + editDivId).slideToggle();
            $('#alertDiv').css("display", "none");
            $('#alertDivPrice').css("display", "none");
            //$("#contact").slideToggle();
            return false;
        });

        //Add Review
        $(document).on('click', '#addReview', function () {
            //debugger;
            //event.preventDefault();
            var indexId = $(this).attr('elem_id');
            var subj = $('#subjectReview').val();

            var desc = $('#descriptionReview').val();
           
            

            //toDo.server.create(itemjsonObj, catname);
            //$('#discussion').append('<li><strong>' + task
            //    + '</strong>has been Created New</li>');
            //$('#addForm').css("display", "none");
            //$('#TDtaskAdd').val(null);
            //$('#TDboolAdd').attr('checked', false);
            //$('#submit').css("display", "block");
            $.ajax({
                url: "/ShoppingItems/AddModalReview/",
                data: {
                    id: parseInt(indexId),
                    subj: subj,
                    desc:desc

                },
                method: 'POST'
            }).done(function (responseJSON, status, xhr) {
                $('#noReview').remove();
                //$("#nadi").empty();
                //var row = $('<li>No Reviews Available</li>');
                var response = JSON.parse(responseJSON);
                addRowsToModalonAdd(subj, desc);

                //var wr = $('<br /><button class="btn btn-success btn-xs btn-complete" id="12345">Write Review</button>' +
                //    '<div class= "form-group" id = "review-Div" style = "display:none" >' +
                //    '<label class="control-label col-md-4">' +
                //    'Item Name:' +
                //    '</label>' +
                //    '<input type="text" readonly="readonly" id="ItemNameReview" value="' + response.ItemName + '" class="form-control" />' +
                //    '<br />' +

                //    '<label class="control-label col-md-4">' +
                //    'Subject Line:' +
                //    '</label>' +
                //    '<input type="text" id="subjectReview" value="" class="form-control" />' +
                //    '<br />' +

                //    '<label class="control-label col-md-4">' +
                //    'Description:' +
                //    '</label>' +
                //    '<input type="text" id="descriptionReview" value="" class="form-control" />' +
                //    '<br />' +
                //    '&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary btn-Addreview" id="addReview" elem_id="' + response.Id + '">Add</button>' +
                //    '</div >');
                //$('#nadi').append(wr);
                $('#review-Div').slideToggle();
                $('#subjectReview').val(null);
                $('#descriptionReview').val(null);
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });
        });

        //Modal Click
        $(document).on('click', '#myModal12', function () {
            //write ajax with new feedback here
            var indexid = $(this).attr('elem_id');
            
            //debugger;
            $.ajax({
                url: "/ShoppingItems/getReviews/",
                data: {
                    id: parseInt(indexid)
                    
                },
                method: 'POST'
            }).done(function (responseJSON, status, xhr) {
                //debugger;
                $("#nadi").empty();
                
                var response = JSON.parse(responseJSON);
                if (response.reviews.length > 0) {
                    for (var i = 0; i < response.reviews.length; i++) {
                        addRowsToModal(response.reviews[i], response);
                    }
                }
                else {
                    $("#nadi").empty();
                    var row = $('<li id="noReview">No Reviews Available</li>');
                    
                    $('#nadi').prepend(row);
                }
                
                var wr=$('<br /><button class="btn btn-success btn-xs btn-complete" id="12345">Write Review</button>' +
                    '<div class= "form-group" id = "review-Div" style = "display:none" >' +
                    '<label class="control-label col-md-4">' +
                    'Item Name:' +
                    '</label>' +
                    '<input type="text" readonly="readonly" id="ItemNameReview" value="' + response.ItemName + '" class="form-control" />' +
                    '<br />' +

                    '<label class="control-label col-md-4">' +
                    'Subject Line:' +
                    '</label>' +
                    '<input type="text" id="subjectReview" value="" class="form-control" />' +
                    '<br />' +

                    '<label class="control-label col-md-4">' +
                    'Description:' +
                    '</label>' +
                    '<input type="text" id="descriptionReview" value="" class="form-control" />' +
                    '<br />' +
                    '&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary btn-Addreview" id="addReview" elem_id="' + response.Id + '">Add</button>' +
                    '</div >');
                $('#nadi').append(wr);
                //UpdateRow(response[0]);
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });

            //var row = $('<li>hi</li>');
            //$('#nadi').prepend(row);

        });
        
        //Actual Edit Click
        $(document).on('click', '.btn-editActual', function () {

            var indexid = $(this).attr('elem_id');
            var itemName = $('#ItemNameEdit' + indexid).val();
            if (!validateNulls(itemName)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            var price = $('#PriceEdit' + indexid).val();
            if (!validateNulls(price)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            if (!validateNumeric(price)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            var desc = $('#DescEdit' + indexid).val();
            if (!validateNulls(desc)) {
                event.preventDefault();
                //event.stopImmediatePropagation();
                return false;
            }
            var cat = $('#SIeditCat' + indexid).val();
            var catname = $('#SIeditCat' + indexid + 'option:selected').text();
            var itemjsonObj = {
                "Id": indexid,
                "ItemName": itemName,
                "Price": price,
                "Description": desc,
                "CategoryId": cat
            };
            $.ajax({
                url: "/ShoppingItems/Edit/",
                //dataType: 'json',
                //contentType: 'application/json',                
                data: itemjsonObj,
                //json: JSON.stringify({ name: 'Jane', age: 30 }),
                //delay: 1

                method: 'POST'
            }).done(function (responseJSON, status, xhr) {
                //debugger;
                var response = JSON.parse(responseJSON);

                UpdateRow(response[0]);
                
            }).error(function (xhr, status, error) {
                // deal with error from server
                $("#error").show();
            });
        });

        });
    
    function NewRow(newRow,abc) {
        var row = $('<a class="list-group-item" id="si_' + newRow.Id + '"><span class="pull-right" style=" padding-left: 5px;"  ><button class="btn btn-danger btn-sm btn-delete" elem_id = "' + newRow.Id + '"> Delete</button></span><span class="pull-right" style="padding-left: 5px;"><button class="btn btn-success btn-sm btn-editb" elem_id = "' + newRow.Id + '"> Edit</button ></span >');
        if (!newRow.IsAddedToCart) {
            row.append($('<span class="pull-right" style="padding-left: 5px;"><button class="btn btn-success btn-sm btn-addCart" elem_id = "' + newRow.Id + '" id="addCart' + newRow.Id + '"">Add to Cart</button><button class="btn btn-success btn-sm btn-addCartNew" elem_id = "' + newRow.Id + '" style="display:none" id = "addNew' + newRow.Id + '" ">Add</button></span>'));
        }
        else {

            row.append($('<span class="pull-right" style="padding-left: 5px;"><button class="btn btn-primary btn-sm btn-updateCart" elem_id = "' + newRow.Id + '" id="updateCart' + newRow.Id + '"">Update Cart</button><button class="btn btn-primary btn-sm btn-updateCartNew" style="display:none" elem_id = "' + newRow.Id + '" id="updateCartNew' + newRow.Id + '"">Update</button></span>'));

        }
        row.append($('<span class="pull-right" id="counterSpan' + newRow.Id + '" style="display:none; padding-left: 5px;"><button class="increment" id="addOne' + newRow.Id + '"><i class="fa fa-chevron-circle-up" style="font-size:24px;" aria-hidden="true"></i></button><span style="padding-left: 5px;padding-right: 5px;" id="counter' + newRow.Id + '">' + newRow.Quantity + '</span><button class="decrement"  id="=subtractOne' + newRow.Id + '"><i class="fa fa-chevron-circle-down" style="font-size:24px;" aria-hidden="true"></i></button></span>'));
        row.append($('<strong class="taskItem" style="padding-right: 5px;">').html(newRow.ItemName));
        row.append($('</strong>'));
        if (newRow.IsAddedToCart) {
            row.append($('<span class="label label-success" style="padding-left: 5px;">' + newRow.Quantity + ' in CART</span>'));
            row.append($('<span class="fa-stack fa-3x">'+
                '<i class= "fa fa-shopping-cart fa-stack-2x" style = "font-size:55px;padding-top:20px;padding-right:10px;" ></i>' +
                '<strong class="fa-stack-1x calendar-text" style="font-size:20px;color:white; ">' + newRow.Quantity + '</strong>' +
        '</span>'));
        }
        //TODOGHR
        else {
            row.append($('<span class="fa-stack fa-3x">' +
                '<i class= "fa fa-shopping-cart fa-stack-2x" style = "font-size:55px;padding-top:20px;padding-right:10px;" ></i>' +
                '<strong class="fa-stack-1x calendar-text" style="font-size:20px;color:white; ">0</strong>' +
                '</span>'));
        }
        //row.append($('<span class="label label-danger">PENDING</span>'));
        if (abc == "") {
            row.append($('<p class="text-muted"> ' + newRow.category.Name + '  <strong>- </strong>' + newRow.Description + ' ' + '<i class="fa fa-usd" style="font-size:25px;" aria-hidden="true"></i><span style="font-size:27px;">' + newRow.Price * newRow.Quantity + '</span><span class=" pull-right"><button type="button" id="myModal12" elem_id = "' + newRow.Id + '" class="btn btn-primary btn-sm pull-right" style="background-color:yellow;color:black" data-toggle="modal" data-target="#myModal1"><strong>Read / Write Reviews</strong></button></span></p>'));
        }
        else {
            row.append($('<p class="text-muted"> ' + abc + '  <strong>- </strong>' + newRow.Description + ' ' + '<i class="fa fa-usd" style="font-size:25px;" aria-hidden="true"></i><span style="font-size:27px;">' + newRow.Price * newRow.Quantity + '</span><span class=" pull-right"><button type="button" id="myModal12" elem_id = "' + newRow.Id + '" class="btn btn-primary btn-sm pull-right" style="background-color:yellow;color:black" data-toggle="modal" data-target="#myModal1"><strong>Read / Write Reviews</strong></button></span></p>'));
        }
        row.append($(''));

            //'<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">'+
            //    '<div class="modal-dialog modal-lg" role="document">'+
            //        '<div class="modal-content">'+
            //           ' ...'+
            //    '</div>'+
            //    '</div>'+
            //'</div>'+
            //'<!--Review modal-- >'));

        row.append('<div class="form-group" id="edit-Div' + newRow.Id + '" style="display:none">' +
            '<label class= "control-label col-md-4" >'+
            'Item Name:'+
            ' </label>' +
            ' <input type="text" id="ItemNameEdit' + newRow.Id + '" value="' + newRow.ItemName + '" class="form-control" />' +
            '<br/>'+

            '<label class= "control-label col-md-4" > '+
             '   Price: '+
            '           </label > ' +
            '<input type = "text" id = "PriceEdit' + newRow.Id + '" value = "' + newRow.Price + '" class= "form-control" /> ' +
            '            <br /> '+

            '<label class= "control-label col-md-4" > '+
             '   Description: '+
            '           </label > ' +
            '<input type = "text" id = "DescEdit' + newRow.Id + '" value = "' + newRow.Description + '" class= "form-control" /> ' +
             '           <br /> '+

            '<label class= "control-label col-md-4" > '+
             '   Category'+
              '          </label > '+
            '<select class= "form-control" id = "SIeditCat' + newRow.Id + '" > '+
            editDropdown+
            '</select > '+
            '<br /> '+

            '&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary btn-editActual" elem_id = "' + newRow.Id + '" id="EditForm' + newRow.Id + '">Edit</button>'+
             '       </div></a>');

        //if (!responseJSON[i].IsCompleted) {
        //    row.append('<div class="form-group" id="come_' + responseJSON[i].Id + '" style="display:none"><label class="control-label col-md-4" >To Do Task Item:</label><input type="text" id="TDtaske' + responseJSON[i].Id + '" value="' + responseJSON[i].Task + '" class="form-control" /><br/><label class="control-label col-md-6">Is Completed</label><input class="checkbox" id="TDboole' + responseJSON[i].Id + '" type="checkbox" /><br /><label class="control-label col-md-4">Category</label><select class="form-control" id="TDcate' + responseJSON[i].Id + '">' + optionq + '</select><br /><button class="btn btn-primary btn-edit">Edit ToDoItem</button></div >');
        //}
        //else {
        //    row.append('<div class="form-group" id="come_' + responseJSON[i].Id + '" style="display:none"><label class="control-label col-md-4" >To Do Task Item:</label><input type="text" id="TDtaske' + responseJSON[i].Id + '" value="' + responseJSON[i].Task + '" class="form-control" /><br/><label class="control-label col-md-6">Is Completed</label><input class="checkbox" id="TDboole' + responseJSON[i].Id + '" type="checkbox" checked /><br /><label class="control-label col-md-4">Category</label><select class="form-control" id="TDcate' + responseJSON[i].Id + '">' + optionq + '</select><br /><button class="btn btn-primary btn-edit">Edit ToDoItem</button></div >');
        //}

        $('#listItems').prepend(row);
        //if (!responseJSON[i].IsCompleted) {
        //    $("#TDbool").removeAttr("checked");
        //}
    }

    function UpdateRow(editedRow) {
        var row = $("#si_" + editedRow.Id).html('<span class="pull-right" style=" padding-left: 5px;"  ><button class="btn btn-danger btn-sm btn-delete" elem_id = "' + editedRow.Id + '"> Delete</button></span><span class="pull-right" style="padding-left: 5px;"><button class="btn btn-success btn-sm btn-editb" elem_id = "' + editedRow.Id + '"> Edit</button ></span >')
        //row.append($('<strong class="taskItem">' + editedRow.ItemName + '</strong>'));
        if (!editedRow.IsAddedToCart) {
            row.append($('<span class="pull-right" style="padding-left: 5px;"><button class="btn btn-success btn-sm btn-addCart" elem_id = "' + editedRow.Id + '" id="addCart' + editedRow.Id + '"">Add to Cart</button><button class="btn btn-success btn-sm btn-addCartNew" elem_id = "' + editedRow.Id + '" style="display:none" id = "addNew' + editedRow.Id + '" ">Add</button></span>'));
        }
        else {

            row.append($('<span class="pull-right" style="padding-left: 5px;"><button class="btn btn-primary btn-sm btn-updateCart" elem_id = "' + editedRow.Id + '" id="updateCart' + editedRow.Id + '"">Update Cart</button><button class="btn btn-primary btn-sm btn-updateCartNew" style="display:none" elem_id = "' + editedRow.Id + '" id="updateCartNew' + editedRow.Id + '"">Update</button></span>'));

        }

        row.append($('<span class="pull-right" id="counterSpan' + editedRow.Id + '" style="display:none; padding-left: 5px;"><button class="increment" id="addOne' + editedRow.Id + '"><i class="fa fa-chevron-circle-up" style="font-size:24px;" aria-hidden="true"></i></button><span style="padding-left: 5px;padding-right: 5px;" id="counter' + editedRow.Id + '">' + editedRow.Quantity + '</span><button class="decrement"  id="=subtractOne' + editedRow.Id + '"><i class="fa fa-chevron-circle-down" style="font-size:24px;" aria-hidden="true"></i></button></span>'));
        row.append($('<strong class="taskItem" style="padding-right: 5px;">').html(editedRow.ItemName));
        row.append($('</strong>'));
        if (editedRow.IsAddedToCart) {
            row.append($('<span class="label label-success" style="padding-left: 5px;">' + editedRow.Quantity + ' in CART</span>'));
            row.append($('<span class="fa-stack fa-3x">' +
                '<i class= "fa fa-shopping-cart fa-stack-2x" style = "font-size:55px;padding-top:20px;padding-right:10px;" ></i>' +
                '<strong class="fa-stack-1x calendar-text" style="font-size:20px;color:white; ">' + editedRow.Quantity + '</strong>' +
                '</span>'));
        }
        else {
            row.append($('<span class="fa-stack fa-3x">' +
                '<i class= "fa fa-shopping-cart fa-stack-2x" style = "font-size:55px;padding-top:20px;padding-right:10px;" ></i>' +
                '<strong class="fa-stack-1x calendar-text" style="font-size:20px;color:white; ">0</strong>' +
                '</span>'));
        }
        //row.append($('<span class="label label-danger">PENDING</span>'));
        row.append($('<p class="text-muted"> ' + editedRow.category.Name + ' <strong>- </strong>' + editedRow.Description + ' ' + '<i class="fa fa-usd" style="font-size:25px;" aria-hidden="true"></i><span style="font-size:27px;">' + editedRow.Price * editedRow.Quantity + '</span><button type="button" id="myModal12" elem_id = "' + editedRow.Id + '" class="btn btn-primary btn-sm pull-right" style="background-color:yellow;color:black" data-toggle="modal" data-target="#myModal1"><strong>Read / Write Reviews</strong></button></p>'));

        row.append('<div class="form-group" id="edit-Div' + editedRow.Id + '" style="display:none">' +
            '<label class= "control-label col-md-4" >' +
            'Item Name:' +
            ' </label>' +
            ' <input type="text" id="ItemNameEdit' + editedRow.Id + '" value="' + editedRow.ItemName + '" class="form-control" />' +
            '<br/>' +

            '<label class= "control-label col-md-4" > ' +
            '   Price: ' +
            '           </label > ' +
            '<input type = "text" id = "PriceEdit' + editedRow.Id + '" value = "' + editedRow.Price + '" class= "form-control" /> ' +
            '            <br /> ' +

            '<label class= "control-label col-md-4" > ' +
            '   Description: ' +
            '           </label > ' +
            '<input type = "text" id = "DescEdit' + editedRow.Id + '" value = "' + editedRow.Description + '" class= "form-control" /> ' +
            '           <br /> ' +

            '<label class= "control-label col-md-4" > ' +
            '   Category' +
            '          </label > ' +
            '<select class= "form-control" id = "SIeditCat' + editedRow.Id + '" > ' +
            editDropdown +
            '</select > ' +
            '<br /> ' +

            '&nbsp;&nbsp;&nbsp;&nbsp; <button class="btn btn-primary btn-editActual" elem_id = "' + editedRow.Id + '" id="EditForm' + editedRow.Id + '">Edit</button>' +
            '       </div >');
    }

    function addRowsToModal(newRow) {
        //debugger;
        
        var row = $('<a style="text-decoration:none" href="#" class="list-group-item">' +
            '<h4 class= "list-group-item-heading" >' + newRow.subjectLine + '</h4>' +
            '<p class="text-muted">' + newRow.reviewDate + '</p>' +
            '<p class="list-group-item-text">' + newRow.description + '</p>' +
            '</a >');
        
        $('#nadi').prepend(row);

        //$('#nadi').prepend(row);
    }
    function addRowsToModalonAdd(subj,desc) {
        //debugger;
        var d = new Date();
        var strDate = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate();
        var row = $('<a style="text-decoration:none" href="#" class="list-group-item">' +
            '<h4 class= "list-group-item-heading" >' + subj + '</h4>' +
            '<p class="text-muted">' + strDate + '</p>' +
            '<p class="list-group-item-text">' + desc + '</p>' +
            '</a >');

        $('#nadi').prepend(row);

        //$('#nadi').prepend(row);
    }

</script>